// OpenClaw config with Azure OpenAI primary + direct OpenAI fallback
// Useful for redundancy or when Azure has quota limits

{
  env: {
    vars: {
      // Azure credentials
      AZURE_OPENAI_API_KEY: "your-azure-key",
      AZURE_OPENAI_RESOURCE_NAME: "my-openai-resource",
      AZURE_OPENAI_API_VERSION: "2024-02-01",
      AZURE_OPENAI_DEPLOYMENT_NAME_MAP: "gpt-4o=gpt4o-prod"
      
      // Direct OpenAI credentials (for fallback)
      // OPENAI_API_KEY: "sk-..."
    }
  },

  models: {
    providers: {
      // Primary: Azure OpenAI
      "azure": {
        api: "azure-openai-responses",
        models: [
          {
            id: "gpt-4o",
            name: "GPT-4o (Azure)",
            contextWindow: 128000,
            maxTokens: 16384,
            input: ["text", "image"]
          }
        ]
      }
      // Note: Standard OpenAI is available by default when OPENAI_API_KEY is set
    }
  },

  agents: {
    defaults: {
      model: {
        // Try Azure first
        primary: "azure/gpt-4o",
        // Fall back to direct OpenAI if Azure fails (quota, outage, etc.)
        fallbacks: ["openai/gpt-4o"]
      }
    }
  }
}
